<%= simple_form_for(@mturk_batch_job, url: mturk_batch_job_path(@mturk_batch_job.id), html: {id: 'mturk-batch-job-new'}) do |f| %>
  <%= f.error_notification %>

  <div class="form-group">
    <%= f.input :name, hint: 'Has to be unique' %>
  </div>
  
  <div class="form-group">
    <%= f.input :title, hint: 'Title of each HIT on Mturk, short and descriptive' %>
  </div>

  <div class="form-group">
    <%= f.input :description, hint: 'A general description about the HIT, displayed on Mturk' %>
  </div>

  <div class="form-group">
    <%= f.input :keywords, hint: 'Comma-separated list of keywords (used by Mturk for searching)' %>
  </div>

  <div class="form-group">
    <%= f.association :project, hint: 'Choose the question sequence' %>
  </div>

  <div class="form-group">
    <%= f.input :instructions, hint: 'Instructions to the worker (visible on top of the question sequence) in Markdown', input_html: {style: "font-family: monospace;", rows: 10} %>
  </div>

  <div class="form-group">
    <%= f.input :job_file,
      disabled: @is_submitted,
      as: :file,
      label: "Tweet IDs",
      hint: 'Please use a csv in which each line corresponds to a tweet ID.',
      :input_html => { :class => 'file-input-form-control' } %>
    <% unless @is_submitted %>
      <p style="color:red">Note: Existing tasks will be overwritten.</p>
    <% end %>
  </div>

  <div class="form-group">
    <%= f.input :number_of_assignments, hint: "Label every tweet n times" do %>
      <div class="input-group">
        <%= f.input_field :number_of_assignments,
          value: 1,
          disabled: @is_submitted,
          class: 'form-control' %>
    </div>
    <% end %>
  </div>

  <div class="form-group">
    <%= f.input 'Reward', hint: "Reward per finished question sequence" do %>
      <div class="input-group">
        <span class="input-group-text">$</span>
        <%= f.input_field :reward,
          class: 'form-control' %>
      </div>
    <% end %>
  </div>

  <div class="form-group">
    <%= f.input 'Lifetime', hint: "Time after which a HIT is no longer available for users." do %>
      <div class="input-group">
        <%= f.input_field :lifetime_in_seconds,
          class: 'form-control',
          value: @mturk_batch_job.lifetime_in_seconds / (24*3600)
        %>
        <span class="input-group-text">days</span>
      </div>
    <% end %>
  </div>

  <div class="form-group">
    <%= f.input 'Auto-approval', hint: "Time after which a completed HIT gets auto-approved" do %>
      <div class="input-group">
        <%= f.input_field :auto_approval_delay_in_seconds,
          class: 'form-control',
          value: @mturk_batch_job.auto_approval_delay_in_seconds / (24*3600)
        %>
        <span class="input-group-text">days</span>
      </div>
    <% end %>
  </div>

  <div class="form-group">
    <%= f.input 'Assignment duration', hint: "Time which is given to a worker to complete the task" do %>
      <div class="input-group">
        <%= f.input_field :assignment_duration_in_seconds,
          value: @mturk_batch_job.assignment_duration_in_seconds / 60,
          class: 'form-control'
        %>
        <span class="input-group-text">min</span>
      </div>
    <% end %>
  </div>
  
  <div class="form-group">
    <%= f.input :sandbox, input_html: {style: "margin-right:15px;", checked: true}, label_html: {class: 'checkbox-inline'} %>
  </div>

  <div class="form-actions" style="margin-top:25px;">
    <%= f.button :submit, class: 'btn btn-primary btn-lg' %>
  </div>
<% end %>
